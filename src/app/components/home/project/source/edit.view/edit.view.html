<div class="model-config">
    <form class="item-form" #editViewForm="ngForm" novalidate>
        <div *ngIf="modelStructure._category == 2">
            <div class="top-block files-top-block ">
                <div class="input-wrap">
                    <div class="col-lg-12">
                        <input type="text" #curentName="ngModel" name="curentName"
                               placeholder="Level`s Name"
                               [(ngModel)]="modelStructure.name" required autofocus>
                        <label [class.full-op]="curentName.invalid && curentName.touched">The
                            Level`s Name is required!</label>
                    </div>
                </div>

                <div class="upload-list col-lg-12">
                    <app-file-upload [title]="'Upload model'" [accept]="'.obj'"
                                     [required]="'1'" class="col-lg-12" [files]="[modelStructure.destination]"
                                     [inject]="modelStructure.app"
                                     #modelEditObj></app-file-upload>
                    <app-file-upload [title]="'Upload frames'" [multiple]="'multiple'"
                                     [required]="'1'" [accept]="'image/*'" [files]="modelStructure.images"
                                     [inject]="modelStructure.app"
                                     class="col-lg-12" #framesEditObj></app-file-upload>
                    <!--<button class="btn-default">Save</button>-->
                </div>
            </div>
            <div class="bottom-block">
                <div class="row">
                    <div class="inp-form col-lg-6">
                        <label>Width</label>
                        <input name="width" type="number" *ngIf="modelStructure.app._slider"
                               [(ngModel)]="modelStructure.app._slider.container.clientWidth" disabled>
                    </div>
                    <div class="inp-form col-lg-6">
                        <label>Height</label>
                        <input name="height" type="number" *ngIf="modelStructure.app._slider"
                               [(ngModel)]="modelStructure.app._slider.container.clientHeight" disabled>
                    </div>
                </div>
                <div class="row">
                    <div class="inp-form col-lg-4">
                        <label>Scale</label>
                        <input name="scaleX" type="number" (change)="modelStructure.app.updateData('scale')" step="0.1"
                               [(ngModel)]="modelStructure.app.model.scale.x">
                    </div>
                    <div class="inp-form col-lg-4">
                        <label>Current</label>
                        <input name="current" type="number" *ngIf="modelStructure.app._slider" disabled="true" min="0"
                               max="36" [(ngModel)]="modelStructure.currentItem">
                    </div>
                    <div class="inp-form col-lg-4">
                        <label>Frames</label>
                        <input name="frames" type="number" min="0" max="36" disabled="true"
                               [ngModel]="modelStructure.images.length">
                    </div>
                </div>
                <div class="row">
                    <div class="inp-form col-lg-4">
                        <label>Camera X</label>
                        <input name="posX" type="number" (change)="modelStructure.app.updateData()"
                               [(ngModel)]="modelStructure.app.camera.position.x">
                    </div>
                    <div class="inp-form col-lg-4">
                        <label>Camera Y</label>
                        <input name="posY" type="number" (change)="modelStructure.app.updateData()"
                               [(ngModel)]="modelStructure.app.camera.position.y">
                    </div>
                    <div class="inp-form col-lg-4">
                        <label>Camera Z</label>
                        <input name="posZ" type="number" (change)="modelStructure.app.updateData()"
                               [(ngModel)]="modelStructure.app.camera.position.z">
                    </div>
                </div>
                <div class="row">
                    <div class="inp-form col-lg-6">
                        <label>Fov</label>
                        <input name="fov" type="number" step="0.01" (change)="modelStructure.app.updateData()"
                               [(ngModel)]="modelStructure.app.camera.fov">
                    </div>
                    <div class="inp-form col-lg-6">
                        <label>Size</label>
                        <input name="size" type="number" [(ngModel)]="modelStructure.app.camera.position.y"
                               disabled="true">
                    </div>
                </div>
                <div class="row">
                    <div class="inp-form col-lg-6">
                        <label>Lens</label>
                        <input name="lens" type="number" (change)="modelStructure.app.updateData()"
                               [(ngModel)]="modelStructure.app.camera.near" disabled="true">
                    </div>
                    <div class="inp-form col-lg-6">
                        <label>Zoom</label>
                        <input name="zoom" type="number" (change)="modelStructure.app.updateData()"
                               [(ngModel)]="modelStructure.app.camera.far" disabled="true">
                    </div>
                </div>
            </div>
        </div>
        <div *ngIf="modelStructure._category == 1">
            <div class="bottom-block">
                <div class="input-wrap">
                    <div class="inp-form col-lg-12">
                        <span>Destionation</span>
                        <input name="destination1" #destination1="ngModel" type="text" required [pattern]="pattrns.URL"
                               [(ngModel)]="modelStructure.destination">
                        <label [class.full-op]="destination1.invalid && destination1.touched">The
                            Destionation is required and must be an url!</label>
                    </div>
                </div>
            </div>
        </div>
        <div *ngIf="modelStructure._category === 0">
            <div class="bottom-block">
                <div class="input-wrap">
                    <div class="inp-form col-lg-12">
                        <span>Destionation</span>
                        <textarea rows="10" class="col-lg-12" name="destination0" #destination0="ngModel" required
                                  [(ngModel)]="modelStructure.destination"></textarea>
                        <label [class.full-op]="destination0.invalid && destination0.touched || !modelStructure.destination.length">The
                            Destionation is required and must be an js code! </label>
                    </div>
                </div>
            </div>
        </div>

        <div class="add-btn" (click)="modelStructure._app.update(editViewForm)">
            <i class="material-icons">save</i>

            <div class="span-hover">
                <span>Save</span>
            </div>
        </div>
    </form>
</div>